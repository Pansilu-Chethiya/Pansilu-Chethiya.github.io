<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Pansilu Chethiya | üòä</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
  <style> 
    * { box-sizing: border-box; margin: 0; padding: 0; }

    html { scroll-behavior: smooth; }

    :root {
      --bg: #0d1117;
      --card: #161b22;
      --text: #f0f6fc;
      --muted: #8b949e;
      --accent: #00aaff;
      --transition: 0.3s ease;
    }

    body.light {
      --bg: #f6f8fa;
      --card: #ffffff;
      --text: #1b1f23;
      --muted: #4a5568;
      --accent: #0077ff;
    }

    body {
      font-family: "Poppins", sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      overflow-x: hidden;
      transition: background var(--transition), color var(--transition);
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
      max-width: 1100px;
      padding: 1.5rem;
      flex-wrap: wrap;
      gap: 1rem;
    }

    header h1 {
      color: var(--accent);
      font-size: 1.8rem;
    }

    nav a {
      color: var(--muted);
      text-decoration: none;
      transition: var(--transition);
      font-size: 1rem;
      margin-left: 1rem;
    }

    nav a:hover { color: var(--accent); }

    .theme-toggle {
      background: var(--card);
      color: var(--accent);
      border: 1px solid var(--accent);
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition);
    }

    .theme-toggle:hover {
      background: var(--accent);
      color: #fff;
    }

    .hero {
      text-align: center;
      padding: 4rem 1.5rem;
      max-width: 800px;
    }

    .hero h2 {
      font-size: clamp(1.8rem, 5vw, 2.5rem);
      margin-bottom: 0.5rem;
    }

    .hero p {
      color: var(--muted);
      font-size: 1rem;
      margin-bottom: 2rem;
      line-height: 1.5;
    }

    .hero button {
      padding: 0.8rem 2rem;
      background: var(--accent);
      color: #fff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
      transition: var(--transition);
    }

    .hero button:hover {
      background: #0088cc;
      transform: translateY(-3px);
    }

    .game-section {
      text-align: center;
      padding: 3rem 1rem;
      width: 100%;
      max-width: 1000px;
    }

    .game-section h2 {
      color: var(--accent);
      margin-bottom: 1.2rem;
      font-size: clamp(1.5rem, 4vw, 2rem);
    }

    .game-wrapper {
      display: flex;
      justify-content: center;
      width: 100%;
      overflow: hidden;
    }

    canvas {
      border: 3px solid var(--accent);
      border-radius: 12px;
      background: #000;
      box-shadow: 0 4px 15px rgba(0,0,0,0.4);
      max-width: 100%;
      height: auto;
    }

    .contact {
      text-align: center;
      padding: 4rem 1.5rem;
    }

    .contact h2 {
      color: var(--accent);
      margin-bottom: 1rem;
    }

    .contact p {
      color: var(--muted);
      margin-bottom: 1.5rem;
    }

    .contact a {
      display: inline-block;
      background: var(--accent);
      color: white;
      padding: 0.8rem 1.6rem;
      border-radius: 8px;
      text-decoration: none;
      transition: var(--transition);
    }

    .contact a:hover {
      background: #0088cc;
    }

    footer {
      text-align: center;
      color: var(--muted);
      font-size: 0.9rem;
      padding: 1rem;
      width: 100%;
    }
  </style>
</head>

<body>
  <header>
    <h1>Pansilu Chethiya</h1>
    <nav>
      <a href="#game">Game</a>
      <a href="#contact">Contact</a>
    </nav>
    <button class="theme-toggle" id="themeToggle">üåõ</button>
  </header>

  <section class="hero">
    <h2>Flappy Bird Clone (Also known as the wild Vihanga) üê§</h2>
    <p>A sleek, responsive recreation of Vihanga Bird built with HTML and JavaScript (almost). Works beautifully on both desktop and mobile ‚Äî tap or press W to flap!</p>
    <button onclick="document.getElementById('game').scrollIntoView({behavior:'smooth'})">Play Now (or else)</button>
  </section>

  <section id="game" class="game-section">
    <h2>üéÆ Play the Game</h2>
    <div class="game-wrapper">
      <canvas id="gameCanvas" width="400" height="650"></canvas>
    </div>
  </section>

  <section id="contact" class="contact">
    <h2>Let's Connect</h2>
    <p>Have feedback? Get in touch!</p>
    <a href="mailto:pansiluchethiya2012@outlook.com">üìß Email Me ‚Äî also on Discord: pansilululu_96243</a>

    <p>This is the python code not sharing the javascript one üò∂:
    
      import pygame
from sys import exit
import random


# game variables
GAME_WIDTH = 360
GAME_HEIGHT = 640

# bird class
bird_x = GAME_WIDTH / 8
bird_y = GAME_HEIGHT / 2
bird_width = 34
bird_height = 24


class Bird(pygame.Rect):
    def __init__(self, img):
        super().__init__(bird_x, bird_y, bird_width, bird_height)
        self.image = img


# pipe class
pipe_x = GAME_WIDTH
pipe_y = 0
pipe_width = 64
pipe_height = 512


class Pipe(pygame.Rect):
    def __init__(self, x, y, img):
        super().__init__(x, y, pipe_width, pipe_height)
        self.image = img
        self.passed = False


# initialize pygame and window before loading assets (safer across platforms)
pygame.init()

window = pygame.display.set_mode((GAME_WIDTH, GAME_HEIGHT))
pygame.display.set_caption("Flappy Bird")

clock = pygame.time.Clock()

create_pipes_timer = pygame.USEREVENT + 0
pygame.time.set_timer(create_pipes_timer, 1500)  # every 1.5 seconds


# game images
background_image = pygame.image.load("flappybirdbg.png")

bird_image = pygame.image.load("flappybird.png")
bird_image = pygame.transform.scale(bird_image, (bird_width, bird_height))

top_pipe_image = pygame.image.load("toppipe.png")
top_pipe_image = pygame.transform.scale(
    top_pipe_image, (pipe_width, pipe_height))

bottom_pipe_image = pygame.image.load("bottompipe.png")
bottom_pipe_image = pygame.transform.scale(
    bottom_pipe_image, (pipe_width, pipe_height))


# game logic

bird = Bird(bird_image)
pipes = []
velocity_x = -2
velocity_y = 0
gravity = 0.4
score = 0
game_over = False


def draw():
    window.blit(background_image, (0, 0))
    window.blit(bird.image, bird)

    for pipe in pipes:
        window.blit(pipe.image, pipe)

    text_str = str(int(score))
    text_font = pygame.font.SysFont("Comic Sans MS", 40)
    text_render = text_font.render(text_str, True, (255, 255, 255))
    window.blit(text_render, (5, 0))

    if game_over:
        go_font = pygame.font.SysFont("Comic Sans MS", 50)
        go_text = go_font.render(f"Game Over: {int(score)}", True, (255, 0, 0))
        go_rect = go_text.get_rect(center=(GAME_WIDTH // 2, GAME_HEIGHT // 2))
        window.blit(go_text, go_rect)

        sub_font = pygame.font.SysFont("Comic Sans MS", 22)
        sub_text = sub_font.render(
            "Press Space to restart or Q to close", True, (255, 255, 255))
        sub_rect = sub_text.get_rect(
            center=(GAME_WIDTH // 2, GAME_HEIGHT // 2 + 48))
        window.blit(sub_text, sub_rect)


def move():
    global velocity_y, score, game_over
    velocity_y += gravity
    bird.y += velocity_y
    bird.y = max(bird.y, 0)

    if bird.y > GAME_HEIGHT:
        game_over = True
        return

    for pipe in pipes:
        pipe.x += velocity_x

        if not pipe.passed and bird.x > pipe.x + pipe.width:
            score += 0.5
            pipe.passed = True

        if bird.colliderect(pipe):
            game_over = True
            return

    while len(pipes) > 0 and pipes[0].x < -pipe_width:
        pipes.pop(0)


def create_pipe():
    random_pipe_y = pipe_y - pipe_height/4 - random.random()*(pipe_height/2)
    opening_space = GAME_HEIGHT/4

    top_pipe = Pipe(pipe_x, pipe_y, top_pipe_image)
    top_pipe.y = random_pipe_y
    pipes.append(top_pipe)

    bottom_pipe = Pipe(pipe_x, pipe_y, bottom_pipe_image)
    bottom_pipe.y = top_pipe.y + pipe_height + opening_space
    pipes.append(bottom_pipe)
    print(len(pipes))


def reset_game():
    global pipes, velocity_y, score, game_over
    pipes = []
    velocity_y = 0
    score = 0
    game_over = False
    bird.x = bird_x
    bird.y = bird_y


while True:
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            pygame.quit()
            exit()

        if event.type == create_pipes_timer and not game_over:
            create_pipe()

        if event.type == pygame.KEYDOWN:
            # jump when playing
            if not game_over and event.key in (pygame.K_SPACE, pygame.K_UP, pygame.K_w):
                velocity_y = -6

            # restart or quit when game over
            if game_over:
                if event.key == pygame.K_SPACE:
                    reset_game()
                if event.key == pygame.K_q:
                    pygame.quit()
                    exit()

    # update game state only when not game over
    if not game_over:
        move()

    # always draw/update so the window remains responsive and shows game over
    draw()
    pygame.display.update()
    clock.tick(60)  # fps
</p>
  </section>

  <footer>¬© 2025 Pansilu Chethiya</footer>

  <script>
    // === THEME TOGGLE ===
    const toggle = document.getElementById("themeToggle");
    const body = document.body;
    if (localStorage.getItem("theme") === "light") {
      body.classList.add("light");
      toggle.textContent = "‚òÄÔ∏è";
    }
    toggle.addEventListener("click", () => {
      body.classList.toggle("light");
      const isLight = body.classList.contains("light");
      toggle.textContent = isLight ? "‚òÄÔ∏è" : "üåõ";
      localStorage.setItem("theme", isLight ? "light" : "dark");
    });

    // === FLAPPY BIRD GAME ===
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    function resizeCanvas() {
      const scale = Math.min(window.innerWidth / 400, 1);
      canvas.style.width = 400 * scale + "px";
      canvas.style.height = 650 * scale + "px";
    }
    window.addEventListener("resize", resizeCanvas);
    resizeCanvas();

    const GAME_WIDTH = 400, GAME_HEIGHT = 650;
    const birdWidth = 34, birdHeight = 24, pipeWidth = 64, pipeHeight = 512;
    let bird = { x: GAME_WIDTH/8, y: GAME_HEIGHT/2, width: birdWidth, height: birdHeight, velocityY: 0, image: new Image() };
    let pipes = [];
    let gravity = 0.4, velocityX = -2, score = 0, gameOver = false;

    const background = new Image(), topPipeImg = new Image(), bottomPipeImg = new Image();
    background.src = "flappybirdbg.png";
    bird.image.src = "flappybird.png";
    topPipeImg.src = "toppipe.png";
    bottomPipeImg.src = "bottompipe.png";

    function draw() {
      ctx.drawImage(background, 0, 0, GAME_WIDTH, GAME_HEIGHT);
      ctx.drawImage(bird.image, bird.x, bird.y, bird.width, bird.height);
      for (let pipe of pipes) ctx.drawImage(pipe.image, pipe.x, pipe.y, pipeWidth, pipeHeight);
      ctx.fillStyle = "white";
      ctx.font = "40px Comic Sans MS";
      ctx.fillText(Math.floor(score), 5, 40);
      if (gameOver) {
        ctx.fillStyle = "red";
        ctx.font = "50px Comic Sans MS";
        ctx.textAlign = "center";
        ctx.fillText(`Game Over: ${Math.floor(score)}`, GAME_WIDTH/2, GAME_HEIGHT/2);
        ctx.fillStyle = "white";
        ctx.font = "22px Comic Sans MS";
        ctx.fillText("Tap / W to restart", GAME_WIDTH/2, GAME_HEIGHT/2 + 48);
        ctx.textAlign = "left";
      }
    }

    function move() {
      bird.velocityY += gravity;
      bird.y += bird.velocityY;
      bird.y = Math.max(bird.y, 0);
      if (bird.y > GAME_HEIGHT) gameOver = true;
      for (let pipe of pipes) {
        pipe.x += velocityX;
        if (!pipe.passed && bird.x > pipe.x + pipeWidth) { score += 0.5; pipe.passed = true; }
        if (bird.x < pipe.x + pipeWidth && bird.x + bird.width > pipe.x &&
            bird.y < pipe.y + pipeHeight && bird.y + bird.height > pipe.y) {
          gameOver = true; return;
        }
      }
      pipes = pipes.filter(p => p.x > -pipeWidth);
    }

    function createPipe() {
      const randomY = -pipeHeight/4 - Math.random()*(pipeHeight/2);
      const gap = GAME_HEIGHT/4;
      pipes.push({ x: GAME_WIDTH, y: randomY, image: topPipeImg, passed: false });
      pipes.push({ x: GAME_WIDTH, y: randomY + pipeHeight + gap, image: bottomPipeImg, passed: false });
    }

    function resetGame() {
      bird.x = GAME_WIDTH/8; bird.y = GAME_HEIGHT/2; bird.velocityY = 0;
      pipes = []; score = 0; gameOver = false;
    }

    document.addEventListener("keydown", e => {
      if (!gameOver && ["ArrowUp", "w", "W"].includes(e.key)) bird.velocityY = -6;
      else if (gameOver && ["w", "W"].includes(e.key)) resetGame();
    });

    canvas.addEventListener("touchstart", () => {
      if (!gameOver) bird.velocityY = -6;
      else resetGame();
    });

    setInterval(() => { if (!gameOver) createPipe(); }, 1500);

    function loop() {
      if (!gameOver) move();
      draw();
      requestAnimationFrame(loop);
    }
    loop();
  </script>
</body>
</html>
